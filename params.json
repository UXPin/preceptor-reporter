{"name":"Preceptor-reporter","tagline":"Reporting library for the preceptor test-runner and aggregator","body":"Preceptor-Reporter\r\n==================\r\n\r\nReporting library for the preceptor test-runner and aggregator.\r\n\r\n[![Build Status](https://secure.travis-ci.org/yahoo/preceptor-reporter.png)](http://travis-ci.org/yahoo/preceptor-reporter)\r\n[![npm version](https://badge.fury.io/js/preceptor-reporter.svg)](http://badge.fury.io/js/preceptor-reporter)\r\n\r\n[![NPM](https://nodei.co/npm/preceptor-reporter.png?downloads=true)](https://nodei.co/npm/preceptor-reporter/)\r\n\r\n\r\n[API-Documentation](http://yahoo.github.io/preceptor-reporter/docs/)\r\n\r\n[Coverage Report](http://yahoo.github.io/preceptor-reporter/coverage/lcov-report/)\r\n\r\n\r\n**Table of Contents**\r\n* [Usage](#usage)\r\n    * [Configuration](#configuration)\r\n* [Manager](#manager)\r\n* [Plugins](#plugins)\r\n    * [Reporter](#reporter)\r\n        * [Plugin management methods](#plugin-management-methods)\r\n        * [Common configuration](#common-configuration)\r\n        * [Dot](#dot)\r\n        * [Duration](#duration)\r\n        * [Event](#event)\r\n        * [JenkinsSauceLabs](#jenkinssaucelabs)\r\n        * [Json](#json)\r\n        * [Junit](#junit)\r\n        * [LineSummary](#linesummary)\r\n        * [list](#list)\r\n        * [Plain](#plain)\r\n        * [Preceptor](#preceptor)\r\n        * [Spec](#spec)\r\n        * [Summary](#summary)\r\n        * [Tap](#tap)\r\n        * [TeamCity](#teamcity)\r\n        * [Custom Plugin](#customplugin)\r\n    * [Listener](#listener)\r\n        * [Plugin management methods](#plugin-management-methods-1)\r\n        * [Common configuration](#common-configuration-1)\r\n        * [Preceptor](#preceptor-1)\r\n        * [TeamCity](#teamcity-1)\r\n        * [Custom Plugin](#customplugin-1)\r\n    * [Loader](#loader)\r\n        * [Common configuration](#common-configuration-2)\r\n        * [Junit](#junit-1)\r\n        * [Tap](#tap-1)\r\n        * [Example](#example)\r\n        * [Custom Plugin](#customplugin-2)\r\n    * [Messenger](#messenger)\r\n        * [Common configuration](#common-configuration-3)\r\n        * [Example](#example-1)\r\n        * [Custom Plugin](#customplugin-3)\r\n    * [Hooks](#hooks)\r\n* [API-Documentation](#api-documentation)\r\n* [Tests](#tests)\r\n* [Third-party libraries](#third-party-libraries)\r\n* [License](#license)\r\n\r\n\r\n##Usage\r\n\r\nThis module is bundled with Preceptor by default and does not need to be included in the ```plugins``` list of the global configuration section in the Preceptor configuration file.\r\nHowever, you need to define the reporters that should be attached to the Preceptor test-events. You can add multiple reporters at the same time, all of which receive the same events from the Preceptor clients. Here is an example adding the ```Junit```, the ```List``` and the ```Spec``` reporter plugin to the reporter list:\r\n\r\n```javascript\r\n\"configuration\": {\r\n\t\r\n\t// ...\r\n\t\r\n\t\"reportManager\": {\r\n\t\t\"listener\": [],\r\n\t\t\"reporter\": [\r\n\t\t\t{ \"type\": \"Spec\" },\r\n\t\t\t{ \"type\": \"List\", \"progress\": false },\r\n\t\t\t{ \"type\": \"Junit\", \"path\": __dirname + \"/test-results.xml\" }\r\n\t\t]\r\n\t}\r\n\t\r\n\t// ...\r\n}\r\n```\r\n\r\n###Configuration\r\nThe following configuration options are available for this module:\r\n* ```reporter``` - List of reporters to activate (see above example)\r\n* ```listener``` - List of listeners to activate\r\n\r\n##Manager\r\nThe Manager object is the main access-point to the reporting plugin. It gives access to the plugin management methods, to the defined test-framework hooks, the defined messengers, and all abstract objects for creating your own reporting plugins.\r\n\r\n##Plugins\r\n\r\n###Reporter\r\nReporter plugins are the core of this library and represent the plugins that can export events.\r\n\r\nThe following reporter are available:\r\n* ```Dot```\r\n* ```Duration```\r\n* ```Event```\r\n* ```JenkinsSauceLabs```\r\n* ```Json```\r\n* ```Junit```\r\n* ```LineSummary```\r\n* ```List```\r\n* ```Plain```\r\n* ```Preceptor```\r\n* ```Spec```\r\n* ```Summary```\r\n* ```Tap```\r\n* ```TeamCity```\r\n\r\n####Plugin management methods\r\nHere is a short summary of the methods available to access reporter plugins and instances thereof (see API documentation for more information):\r\n* ```getActiveReporter``` - Gets a list of active reporter\r\n* ```getReporterList``` - Gets a dictionary of all registered reporter\r\n* ```hasReporter``` - Checks if a specific reporter is registered\r\n* ```getReporter``` - Gets a specific reporter from the list of registered reporter. It will return the constructor of the reporter.\r\n* ```registerReporter``` - Registers a new reporter by giving it an identifier and the reporter constructor\r\n* ```registerReporterRange``` - Registers a list of new reporter with a dictionary of identifier and reporter constructor\r\n* ```addReporter``` - Creates a new instance of a specific reporter and adds it to the active-reporter list\r\n* ```addReporterRange``` - Creates a list of reporter and adds them all to the active-reporter list\r\n\r\n####Common configuration\r\nAll reporter have a common set of configuration options:\r\n* ```type``` - Type of reporter\r\n* ```path``` - Filesystem path to where the test-results should be exported. If none is given, then no filesystem output will be done.\r\n* ```configuration``` - Custom configuration options for a specific reporter\r\n* ```color``` - Flag that determines if the output should be in color. (default: true)\r\n* ```output``` - Flag that determines if there should be an output to the console. (default: undefined - leaving it to the reporter to decide)\r\n* ```progress``` - Flag that determines if there should be a constant update when action states are changing. (default: undefined - leaving it to the reporter to decide)\r\n\r\nGenerally, there are two modes a reporter can be in (and both at the same time):\r\n* file-output\r\n* screen-output\r\n\r\nSome of the reporters might want to prescribe how it should behave (like showing progress), but it can always be overwritten by the user.\r\n\r\n####Dot\r\nThis reporter prints a character for each test. The character will tell what the result of the test has been.\r\n* ```.``` - Test has passed\r\n* ```F``` - Test has failed\r\n* ```E``` - Test had error\r\n* ```U``` - Test is undefined\r\n* ```S``` - Test was skipped\r\n* ```I``` - Test is incomplete\r\n\r\n####Duration\r\nThis reporter prints the total duration of all tests when all test had been finished.\r\n\r\n####Event\r\nEvery test-event is emitted by this reporter, and could pick-up by any listener that is attached to the object.\r\n\r\nFor every test-event, the event reporter will trigger three individual event types, including sub-types:\r\n* ```message``` - Generic message, giving the area-type, the message-type, and the message-data as an array of items\r\n* <area-type>\r\n    * ```admin``` - Administration events, grouping messages of ```start```, ```stop```, ```complete```\r\n    * ```item``` - Item events, grouping messages of ```itemData``` and ```itemMessage```\r\n    * ```suite``` - Suite events, grouping messages of ```suiteStart``` and ```suiteEnd```\r\n    * ```test``` - Test events, grouping messages of ```testStart```, ```testPassed```, ```testError```, ```testFailed```, ```testUndefined```, ```testSkipped```, and ```testIncomplete```\r\n* <message-type>\r\n    * ```start``` - Start of Preceptor\r\n    * ```stop``` - End of Preceptor\r\n    * ```complete``` - Completion of all processing after ```stop```\r\n    * ```itemData``` - Custom test-event data, giving the id of the test-action and the data as JSON string\r\n    * ```itemMessage``` - Custom test-event message, giving the id of the test-action and the message\r\n    * ```suiteStart``` - Start of a test-suite, giving the id of the test-action, the parent-id, and the suite-name\r\n    * ```suiteEnd``` - End of a test-suite, giving the id of the test-action\r\n    * ```testStart``` - Start of a test, giving the id of the test-action, the parent-id, and the test-name\r\n    * ```testPassed``` - Successful completion of test, giving the id of the test-action\r\n    * ```testFailed``` - Failed test, giving the id of the test-action, the message, and the reason of failing\r\n    * ```testError``` - Test with unexpected error, giving the id of the test-action, the message, and the reason of the error\r\n    * ```testUndefined``` - Test-case that hasn't been defined yet, giving the id of the test-action\r\n    * ```testSkipped``` - Skipped test-case, giving the id of the test-action and the reason of skipping\r\n    * ```testIncomplete``` - Test that is still WIP, giving the id of the test-action\r\n\r\n####JenkinsSauceLabs\r\nThe reporter prints the job-name for a Selenium session, binding the job-name to the Selenium test-run.\r\n\r\nThe session-id is determined by taking several steps in a row until a session-id is found. The following steps are taken in order:\r\n* ```sessionId``` value in the test-root ```itemData``` property\r\n* ```sessionId``` value of the ```JenkinsSauceLabs``` reporter configuration\r\n* ```SELENIUM_SESSION_ID``` in the environment variables\r\n\r\nThe job-name is determined by taking the following steps:\r\n* ```jobName``` value in the test-root ```itemData``` property\r\n* ```jobName``` value of the ```JenkinsSauceLabs``` reporter configuration\r\n* ```APP_NAME``` and ```BUILD_NUMBER``` in the environment variables, combining in the format: \"APP_NAME(#BUILD_NUMBER)\"\r\n\r\n####Json\r\nThis reporter exports all test-data at once.\r\n\r\n####Junit\r\nThe JUnit reporter exports all test-data as an XML format.\r\n\r\n####LineSummary\r\nWith this reporter, the test results are summarized in one line when all the tests are completed.\r\n\r\n####List\r\nThe reporter lists-up all the issues which were reported during the test-runs.\r\n\r\n####Plain\r\nThis reporter prints out all test events in a plain text-format. This reporter can be used for debugging purposes when creating a custom reporter, learning about all the test-events that are triggered.\r\n\r\n####Preceptor\r\nThe Preceptor reporter prints out one-to-one test-events so that a parent Preceptor instance could pick-up all the events, integrating it into the parent test-result data.\r\n\r\n#####Format\r\nThe general Preceptor format is as follows:\r\n```\r\n#|#<messageType> <data>#|#\\n\r\n```\r\n\r\nThe protocol sends out the version identifier for this format before any other message is send out.\r\n**Version** - Version of data-format\r\n```\r\n#|#version 1#|#\\n\r\n```\r\n\r\nHere is a full list of all the messages sent out. Please see the API documentation for more information.\r\n\r\n**ItemData** - Custom data for test-action\r\n```\r\n#|#itemData [<id>, <json>]#|#\\n\r\n```\r\n\r\n**ItemMessage** - Custom message for test-action\r\n```\r\n#|#itemMessage [<id>, <message>]#|#\\n\r\n```\r\n\r\n**SuiteStart** - Start of a suite\r\n```\r\n#|#suiteStart [<id>, <parentId>, <suiteName>]#|#\\n\r\n```\r\n\r\n**SuiteEnd** - End of a suite\r\n```\r\n#|#suiteEnd [<id>]#|#\\n\r\n```\r\n\r\n**TestStart** - Start of a test\r\n```\r\n#|#testStart [<id>, <parentId>, <testName>]#|#\\n\r\n```\r\n\r\n**TestPassed** - End of test, marking test as passed\r\n```\r\n#|#testPassed [<id>]#|#\\n\r\n```\r\n\r\n**TestFailed** - End of test, marking test as failed\r\n```\r\n#|#testFailed [<id>, <message>, <reason>]#|#\\n\r\n```\r\n\r\n**TestError** - End of test, marking it as having an error\r\n```\r\n#|#testError [<id>, <message>, <reason>]#|#\\n\r\n```\r\n\r\n**TestUndefined** - End of test, marking it as undefined\r\n```\r\n#|#testUndefined [<id>]#|#\\n\r\n```\r\n\r\n**TestSkipped** - End of test. marking it as skipped\r\n```\r\n#|#testSkipped [<id>, <reason>]#|#\\n\r\n```\r\n\r\n**TestIncomplete** - End of test, marking it as incomplete\r\n```\r\n#|#testIncomplete [<id>]#|#\\n\r\n```\r\n\r\n####Spec\r\nThe Spec reporter will print all test-events in an ordered and consistent format. This reporter has a very similar output format as the \"spec\"-reporter from Mocha.\r\n\r\n####Summary\r\nWith this reporter, the test results are summarized with multiple lines when all the tests are completed.\r\n\r\n####Tap\r\nThe TAP reporter exports the test-events in the [TAP](http://testanything.org/tap-version-13-specification.html) format.\r\n\r\n####TeamCity\r\nThe TeamCity reporter exports the test-events in the [TeamCity](https://confluence.jetbrains.com/display/TCD8/Build+Script+Interaction+with+TeamCity) format. All tools understanding this format should be able to pick-up the test results reported by this reporter. This includes the IntelliJ IDE.\r\n\r\n####Custom Plugin\r\nYou can create your own reporter plugin by using the exposed ```AbstractReporter``` object that is a property on the manager object.\r\n\r\n```javascript\r\nvar ReportManager = require('preceptor-reporter');\r\nvar manager = new ReportManager();\r\n\r\nvar CustomReporter = ReportManager.AbstractReporter.extend(\r\n\t{\r\n\t\t/**\r\n\t\t * Initializes the instance\r\n\t\t *\r\n\t\t * @method initialize\r\n\t\t */\r\n\t\tinitialize: function () {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Called when reporting starts\r\n\t\t *\r\n\t\t * @method start\r\n\t\t */\r\n\t\tstart: function () {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when reporting stops\r\n\t\t *\r\n\t\t * @method stop\r\n\t\t */\r\n\t\tstop: function () {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Called when suite starts\r\n\t\t *\r\n\t\t * @method suiteStart\r\n\t\t * @param {string} id\r\n\t\t * @param {string} parentId\r\n\t\t * @param {string} suiteName\r\n\t\t */\r\n\t\tsuiteStart: function (id, parentId, suiteName) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when suite ends\r\n\t\t *\r\n\t\t * @method suiteEnd\r\n\t\t * @param {string} id\r\n\t\t */\r\n\t\tsuiteEnd: function (id) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Called when any item has custom data\r\n\t\t *\r\n\t\t * @method itemData\r\n\t\t * @param {string} id\r\n\t\t * @param {string} json JSON-data\r\n\t\t */\r\n\t\titemData: function (id, json) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when any item has a custom message\r\n\t\t *\r\n\t\t * @method itemMessage\r\n\t\t * @param {string} id\r\n\t\t * @param {string} message\r\n\t\t */\r\n\t\titemMessage: function (id, message) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Called when test starts\r\n\t\t *\r\n\t\t * @method testStart\r\n\t\t * @param {string} id\r\n\t\t * @param {string} parentId\r\n\t\t * @param {string} testName\r\n\t\t */\r\n\t\ttestStart: function (id, parentId, testName) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Called when test fails\r\n\t\t *\r\n\t\t * @method testFailed\r\n\t\t * @param {string} id\r\n\t\t * @param {string} [message]\r\n\t\t * @param {string} [reason]\r\n\t\t */\r\n\t\ttestFailed: function (id, message, reason) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when test has an error\r\n\t\t *\r\n\t\t * @method testError\r\n\t\t * @param {string} id\r\n\t\t * @param {string} [message]\r\n\t\t * @param {string} [reason]\r\n\t\t */\r\n\t\ttestError: function (id, message, reason) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when test has passed\r\n\t\t *\r\n\t\t * @method testPassed\r\n\t\t * @param {string} id\r\n\t\t */\r\n\t\ttestPassed: function (id) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when test is undefined\r\n\t\t *\r\n\t\t * @method testUndefined\r\n\t\t * @param {string} id\r\n\t\t */\r\n\t\ttestUndefined: function (id) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when test is skipped\r\n\t\t *\r\n\t\t * @method testSkipped\r\n\t\t * @param {string} id\r\n\t\t * @param {string} [reason]\r\n\t\t */\r\n\t\ttestSkipped: function (id, reason) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when test is incomplete\r\n\t\t *\r\n\t\t * @method testIncomplete\r\n\t\t * @param {string} id\r\n\t\t */\r\n\t\ttestIncomplete: function (id) {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Gets the collected output\r\n\t\t *\r\n\t\t * @method getOutput\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tgetOutput: function () {\r\n\t\t\treturn this._output;\r\n\t\t}\r\n\t}\r\n);\r\n\r\nmanager.registerReporter('custom1', CustomReporter);\r\nmanager.addReporter('custom1', { /* Options */ });\r\n```\r\n\r\nThere are a couple of terms that might need clarification:\r\n* action - There are three action-types available: the root-element of all test-results, any test-suite, and any tests.\r\n* ```itemMessage``` - These are custom messages that can be attached to any test-action.\r\n* ```itemData``` - This is an object that could be used to save custom data for any test-action.\r\n\r\n```start``` and ```end``` is called once before and after all the test-results respectively.\r\n\r\nIn general, all actions have a start and end. For tests, however, there is a multitude of end methods, each defining a different end-result. The start methods take an ID that is given by the reporting instance and should be used again when the action is ended, finishing up the pending action. Should any action be still pending after all tests are completed, then the reporting manager will throw an exception since a testing-framework might possibly have been interrupted and some of the data might be missing.\r\n\r\nThe ```getOutput``` method is called when all the collected data needs to be retrieved at once. This could be for saving the results to a file, or when printing the results at the end of the tests when ```progress``` is set to false.\r\n\r\nAll test-results and actions are saved in the test-container object.\r\n\r\n```javascript\r\nthis.getContainer().getAction(id).name\r\n```\r\n\r\nThe following items are saved for each action-type and can be accessed the same way as describe above:\r\n* ```id``` - Identifier of action\r\n* ```startTime``` - Start of action as an interger timestamp\r\n* ```pending``` - Flag if action is pending or not\r\n* ```type``` - Type of action. Possible values are: 'root', 'suite', 'test'\r\n* ```name``` - Name of action\r\n* ```level``` - Numeric depth-level starting with 0\r\n* ```parentId``` - Parent action\r\n\r\nSee the above mentioned plugins for examples.\r\n\r\n###Listener\r\nLister plugins are the opposite of Reporter plugins - these Listener plugins import data.\r\n\r\nThe following listener are available:\r\n* ```Preceptor```\r\n* ```TeamCity```\r\n\r\n####Plugin management methods\r\nHere is a short summary of the methods available to access listener plugins and instances thereof (see API documentation for more information):\r\n* ```getActiveListener``` - Gets a list of active listener\r\n* ```getListenerList``` - Gets a dictionary of all registered listener\r\n* ```hasListener``` - Checks if a specific listener is registered\r\n* ```getListener``` - Gets a specific listener from the list of registered listener. It will return the constructor of the listener.\r\n* ```registerListener``` - Registers a new listener by giving it an identifier and the listener constructor\r\n* ```registerListenerRange``` - Registers a list of new listener with a dictionary of identifier and listener constructor\r\n* ```addListener``` - Creates a new instance of a specific listener and adds it to the active-listener list\r\n* ```addListenerRange``` - Creates a list of listener and adds them all to the active-listener list\r\n\r\n####Common configuration\r\nAll listener have a common set of configuration options:\r\n* ```type``` - Type of listener\r\n* ```configuration``` - Custom configuration options for a specific reporter\r\n* ```placeholder``` - List of placeholder given to the ```parse``` method when parsing the input (see section about custom listener plugin).\r\n\r\n####Preceptor\r\nThe Preceptor listener can pick any information printed by a Preceptor process, integrating the processes result into its own results. See the reporter section above for more information about the data-format.\r\n\r\n####TeamCity\r\nThe TeamCity listener can listen for any messages that were meant for TeamCity receivers, for example the IntelliJ IDE. Any testing-framework that can export test-results to IntelliJ (and their like) can also be used to send these test information a Preceptor instance.\r\n\r\n#####Configuration\r\nThis listener has the following configuration options:\r\n* ```parentId``` {string} - Identifier of parent action\r\n\r\n####Custom Plugin\r\nYou can create your own listener plugin by using the exposed ```AbstractListener``` object that is a property on the manager object.\r\n\r\n```javascript\r\nvar ReportManager = require('preceptor-reporter');\r\nvar manager = new ReportManager();\r\n\r\nvar CustomListener = ReportManager.AbstractListener.extend(\r\n\t{\r\n\t\t/**\r\n\t\t * Initializes the instance\r\n\t\t *\r\n\t\t * @method initialize\r\n\t\t */\r\n\t\tinitialize: function () {\r\n\t\t\t// ...\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Parses a string and extracts message information\r\n\t\t *\r\n\t\t * @method parse\r\n\t\t * @param {string} text\r\n\t\t * @param {object} [placeholder]\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tparse: function (text, placeholder) {\r\n\t\t\t// ...\r\n\t\t}\r\n\t}\r\n);\r\n\r\nmanager.registerListener('custom1', CustomListener);\r\nmanager.addListener('custom1', { /* Options */ });\r\n```\r\n\r\nThe parse method will be called with text that needs to be parsed. This is usually output of a process. The placeholder might have key-value pairs of text that needs to be replaced within the messages.\r\n\r\nSee the above mentioned plugins for examples.\r\n\r\n###Loader\r\nLoader plugins are objects that import common test-report files, and they can be used independently by other projects since they are exposed by the ```getLoaders``` method on the Manager object constructor.\r\n\r\nThe following loaders are available:\r\n* ```junit``` - Object that imports JUnit xml test-report files\r\n* ```tap``` - Object that imports TAP test-report files\r\n\r\n####Common configuration\r\nAll loaders have a common set of configuration options:\r\n* ```type``` - Type of loader (currently not used)\r\n* ```configuration``` - Custom configuration options for a specific loader\r\n* ```path``` - Glob path to files that should be imported\r\n\r\n####JUnit\r\nThe JUnit loader has the following configuration options:\r\n* ```topLevel``` - Flag that indicates if the ```testsuites``` level should be imported. (default: false)\r\n\r\n####TAP\r\nThe TAP loader currently does not have custom configuration options.\r\n\r\n####Example\r\n```javascript\r\nvar junit = new Preceptor.getLoaders().junit({\r\n\tpath: __dirname + \"/*.xml\",\r\n\tconfiguration: {\r\n\t\ttopLevel: true\r\n\t}\r\n);\r\n\r\njunit.on('message', function (areaType, messageType, params) {\r\n\tconsole.log(areaType, messageType, params);\r\n});\r\n```\r\n\r\n####Custom Plugin\r\nYou can create your own loader plugin by using the exposed ```AbstractLoader``` object that is a property on the manager object.\r\n\r\n```javascript\r\nvar ReportManager = require('preceptor-reporter');\r\n\r\nvar CustomLoader = ReportManager.AbstractLoader.extend(\r\n\t{\r\n\t\t// ...\r\n\t}\r\n);\r\n```\r\n\r\nSee the above mentioned plugins for examples.\r\n\r\n###Messenger\r\nMessenger plugins are objects that create low-level messages for external systems, and they can be used independently by other projects since they are exposed by the ```getMessengers``` method on the Manager object constructor.\r\n\r\nThe following messengers are available:\r\n* ```JenkinsSauceLabs``` - Object that prints Sauce-Labs job information to the Jenkins build log, letting the Jenkins SauceLabs plugin know about the job-name.\r\n* ```Preceptor``` - Object that prints Preceptor event messages to the standard output.\r\n* ```TeamCity``` - Object that prints Team-City event messages to the standard output. Most of the messenges can also be understood by the IntelliJ IDE.\r\n\r\nIt is important to note that these messengers have no consistent interface as they represent low-level objects. However, messengers trigger always an event on the messenger itself with the event-name ```message``` that is the exact message that is created for the external system.\r\n\r\n####Common configuration\r\nAll messenger have a common set of configuration options:\r\n* ```type``` - Type of messenger\r\n* ```configuration``` - Custom configuration options for a specific messenger\r\n* ```output``` - Flag that determines if the events are printed to the console. (default: false)\r\n\r\n####Example\r\n```javascript\r\nvar messengers = Preceptor.getMessengers();\r\nvar teamCityMessenger = new messengers.TeamCity();\r\n\r\nteamCityMessenger.testSuiteStarted(\"Suite #1\");\r\n\r\nteamCityMessenger.testStarted(\"Test #1\");\r\nteamCityMessenger.testFinished(\"Test #1\", 20);\r\n\r\nteamCityMessenger.testStarted(\"Test #2\");\r\nteamCityMessenger.testFailed(\"Test #2\", true, \"Division by zero.\", \"...\");\r\n\r\nteamCityMessenger.testSuiteFinished(\"Suite #1\");\r\n```\r\n\r\n####Custom Plugin\r\nYou can create your own messenger plugin by using the exposed ```AbstractMessenger``` object that is a property on the manager object.\r\n\r\n```javascript\r\nvar ReportManager = require('preceptor-reporter');\r\n\r\nvar CustomMessenger = ReportManager.AbstractMessenger.extend(\r\n\t{\r\n\t\t// ...\r\n\t}\r\n);\r\n```\r\n\r\nSee the above mentioned plugins for examples.\r\n\r\n###Hooks\r\nHooks are custom reporters for different testing frameworks, giving Preceptor access to different stages of the test lifecycle.\r\n\r\nThe following hooks are available:\r\n* ```cucumber``` - Cucumber hooks\r\n* ```mocha``` - Mocha hooks\r\n\r\n##API-Documentation\r\n\r\nGenerate the documentation with following command:\r\n```shell\r\nnpm run docs\r\n```\r\nThe documentation will be generated in the ```docs``` folder of the module root.\r\n\r\n##Tests\r\n\r\nRun the tests with the following command:\r\n```shell\r\nnpm run test\r\n```\r\nThe code-coverage will be written to the ```coverage``` folder in the module root.\r\n\r\n##Third-party libraries\r\n\r\nThe following third-party libraries are used by this module:\r\n\r\n###Dependencies\r\n* preceptor-core: https://github.com/yahoo/preceptor-core\r\n* glob: https://github.com/isaacs/node-glob\r\n* underscore: http://underscorejs.org\r\n* xmlbuilder: http://github.com/oozcitak/xmlbuilder-js\r\n* promise: https://github.com/then/promise\r\n* sax: https://github.com/isaacs/sax-js\r\n\r\n###Dev-Dependencies\r\n* chai: http://chaijs.com\r\n* istanbul: https://github.com/gotwarlost/istanbul\r\n* mocha: https://github.com/visionmedia/mocha\r\n* yuidocjs: https://github.com/yui/yuidoc\r\n\r\n##License\r\n\r\nThe MIT License\r\n\r\nCopyright 2014 Yahoo Inc.\r\n","google":"UA-56408730-2","note":"Don't delete this file! It's used internally to help with page regeneration."}